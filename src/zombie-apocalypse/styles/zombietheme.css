/* ============================================
   ZOMBIE APOCALYPSE THEME - PRODUCTION v3.6
   Scoped to .za-theme-enabled only
   Assets: /public/zombie/
   ============================================ */

/* ============================================
   ROOT CONTAINER - Background layers
   ============================================ */

.za-app-root {
  position: relative;
  min-height: 100vh;
  width: 100%;
  overflow-x: hidden;
  overflow-y: auto;
}

/* Default: No zombie theme */
.za-app-root:not(.za-theme-enabled) {
  background: #1a1a2e;
}

/* Zombie theme enabled: Layered scene */
.za-app-root.za-theme-enabled {
  background-color: #0a0b0d;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  background-attachment: fixed;
}

/* ============================================
   SCENE BACKGROUNDS (Phase 1 - 3 scenes)
   ============================================ */

.za-app-root.za-theme-enabled.za-scene-classroom {
  background-image: url('/zombie/bg_classroom.png');
}

.za-app-root.za-theme-enabled.za-scene-cafeteria {
  background-image: url('/zombie/bg_cafeteria.png');
}

.za-app-root.za-theme-enabled.za-scene-lockers {
  background-image: url('/zombie/bg_lockers.png');
}

/* ============================================
   FOG LAYERS - Subtle, professional
   Phase 1: Single fog image (fog_A.png)
   ============================================ */

.za-fog-layer {
  position: fixed;
  left: -10%;
  width: 120%;
  height: 180px;
  background-image: url('/zombie/fog_A.png');
  background-repeat: repeat-x;
  background-size: auto 100%;
  pointer-events: none;
  z-index: 1;
  opacity: 0.25; /* Subtle, not ridiculous */
}

/* Top fog - higher, lighter, slower */
.za-fog-top {
  top: 15%;
  opacity: 0.2;
  animation: zaFogDriftSlow 90s linear infinite;
}

/* Mid fog - middle height, moderate speed */
.za-fog-mid {
  top: 50%;
  transform: translateY(-50%);
  opacity: 0.3;
  animation: zaFogDriftMed 65s linear infinite reverse;
}

/* Bottom fog - lower, denser, faster */
.za-fog-bottom {
  bottom: 8%;
  opacity: 0.28;
  animation: zaFogDriftFast 50s linear infinite;
}

/* Fog animations - gentle drift */
@keyframes zaFogDriftSlow {
  from { transform: translateX(0); }
  to { transform: translateX(-50%); }
}

@keyframes zaFogDriftMed {
  from { transform: translateX(0) translateY(-50%); }
  to { transform: translateX(50%) translateY(-50%); }
}

@keyframes zaFogDriftFast {
  from { transform: translateX(0); }
  to { transform: translateX(-80%); }
}

/* ============================================
   CONTENT WRAPPER
   All game UI sits here, above fog/bg
   ============================================ */

.za-content-wrapper {
  position: relative;
  z-index: 10;
  width: 100%;
  max-width: 1400px;
  margin: 0 auto;
  padding: 20px;
  min-height: 100vh;
  box-sizing: border-box;
}

/* Ensure content is readable over dark backgrounds */
.za-theme-enabled .za-content-wrapper {
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.7);
}

/* ============================================
   SUBTLE ATMOSPHERIC EFFECTS
   ============================================ */

/* Vignette - very subtle edge darkening */
.za-app-root.za-theme-enabled::before {
  content: '';
  position: fixed;
  inset: 0;
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    transparent 60%,
    rgba(0, 0, 0, 0.3) 100%
  );
  pointer-events: none;
  z-index: 2;
}

/* Optional: Subtle scan lines for retro game feel */
.za-app-root.za-theme-enabled::after {
  content: '';
  position: fixed;
  inset: 0;
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.03) 0px,
    transparent 1px,
    transparent 2px,
    rgba(0, 0, 0, 0.03) 3px
  );
  pointer-events: none;
  z-index: 2;
  opacity: 0.15;
}

/* ============================================
   FLASH EFFECT (wrong answer)
   ============================================ */

@keyframes zaWrongFlash {
  0% {
    box-shadow: inset 0 0 100px rgba(200, 0, 0, 0.4);
  }
  100% {
    box-shadow: inset 0 0 0 rgba(200, 0, 0, 0);
  }
}

.za-app-root.za-wrong-flash {
  animation: zaWrongFlash 0.3s ease-out;
}

/* ============================================
   DEV THEME INDICATOR
   ============================================ */

.za-theme-indicator {
  position: fixed;
  bottom: 10px;
  right: 10px;
  padding: 6px 12px;
  background: rgba(0, 0, 0, 0.7);
  color: #4CAF50;
  font-size: 11px;
  font-family: 'Courier New', monospace;
  border: 1px solid #4CAF50;
  border-radius: 3px;
  z-index: 9999;
  pointer-events: none;
  opacity: 0.6;
}

/* ============================================
   RESPONSIVE ADJUSTMENTS
   ============================================ */

@media (max-width: 768px) {
  .za-fog-layer {
    height: 120px;
  }
  
  .za-content-wrapper {
    padding: 12px;
  }
}

/* ============================================
   ACCESSIBILITY
   ============================================ */

/* Respect prefers-reduced-motion */
@media (prefers-reduced-motion: reduce) {
  .za-fog-layer {
    animation: none !important;
  }
  
  .za-app-root.za-theme-enabled::after {
    display: none;
  }
}

/* ============================================
   FUTURE PHASE 2+ HOOKS
   (Commented out - ready when you are)
   ============================================ */

/*
.za-sprite-zombie {
  width: 64px;
  height: 64px;
  background-image: url('/zombie/zombie_sprite.png');
  animation: zaZombieWalk 1.2s steps(8) infinite;
}

@keyframes zaZombieWalk {
  from { background-position: 0 0; }
  to { background-position: -512px 0; }
}

.za-flicker-light {
  animation: zaFlicker 4s infinite;
}

@keyframes zaFlicker {
  0%, 100% { opacity: 1; }
  40% { opacity: 0.6; }
  45% { opacity: 0.2; }
  50% { opacity: 0.8; }
}
*/

/* ============================================
   NOTES FOR FUTURE DEVELOPMENT
   ============================================ */

/*
Phase 2 Assets to Add:
- Sprite sheets for zombies (8-frame walk cycles)
- Flickering light sprites
- UI metal panel textures
- Biohazard icons
- Grunge overlay textures

Current Implementation:
✅ 3 background scenes (classroom, cafeteria, lockers)
✅ Subtle fog system (6 variations possible with fog_A.png)
✅ Professional atmosphere without being overwhelming
✅ Easy theme toggle (Ctrl+Shift+T)
✅ Scoped to .za-theme-enabled only
✅ No impact on other modules

Assets Required:
- /public/zombie/bg_classroom.png
- /public/zombie/bg_cafeteria.png
- /public/zombie/bg_lockers.png
- /public/zombie/fog_A.png
*/
